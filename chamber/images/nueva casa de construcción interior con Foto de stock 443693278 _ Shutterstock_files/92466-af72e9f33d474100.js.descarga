"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92466],{45303:function(e,t,r){r.d(t,{e:function(){return o}});var n=r(59499),a=r(11987);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var o=function(e){var t=e.urlParams,r=void 0===t?{}:t,o=e.queryParams,i=void 0===o?{}:o,c="/bundle/".concat(r.filename),u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i);return{url:c,defaultParams:u,formattedUrl:(0,a.format)({pathname:c,query:u})}}},840:function(e,t,r){r.d(t,{Oo:function(){return D},rB:function(){return _}});var n=r(59499),a=r(50029),s=r(87794),o=r.n(s),i=r(23204),c=r.n(i),u=r(357),l=r(34802),p=r(703),d=r(95944),f=r(20323),m=r(4553),v=r(43257),b=r(8924),y=r(69089),O=r(14892),w=r(25021),h=r(79138),j=r(97708);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(e){var t,r,n=e.asset;return(null===n||void 0===n||null===(t=n.metadata)||void 0===t||null===(r=t.cart)||void 0===r?void 0:r.sizes)||n.sizes},S=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n,a,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=t.asset)||void 0===n||null===(r=n.metadata)||void 0===r||!r.cart||n.metadata.cart.sizes){e.next=9;break}return a=(0,w.so)(n),s={id:n.id},a&&(s.channel=f.$S,s.content_provider=m._e),e.next=7,b.uS.get((0,u.om)({queryParams:s}).formattedUrl).then((function(e){var t=e.data;return(0,y.O)(t)}));case 7:return i=e.sent,e.abrupt("return",i.sizes);case 9:return e.abrupt("return",_({asset:n}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t,r,n,a,s=e.selectedAssetSize,o=e.asset,i=_({asset:o}),u=(0,w.EK)(o);if(!i&&null!==o&&void 0!==o&&null!==(t=o.metadata)&&void 0!==t&&null!==(r=t.cart)&&void 0!==r&&r.size&&o.metadata.cart.format)return{content_size:u?p.vD:o.metadata.cart.size,content_format:o.metadata.cart.format};var d,f=Object.values(i);return d=o.licenseAsJpeg||null!==(n=o.metadata)&&void 0!==n&&null!==(a=n.cart)&&void 0!==a&&a.licenseAsJpeg?f.find((function(e){return e.format===l._3})):h.Bg[s]?(0,O.AR)({sizes:f,compSizeImage:s}):(0,O.Nf)(f),{content_size:u?p.vD:h.nd[c()(d.name)].downloadName,content_format:d.format}},k=function(e){var t=e.map[e.licenseName];return t===p.T0?p.qY:t},x=function(e){var t=e.asset,r=e.licenseName,n=e.isVideoComp,a=e.selectedAssetSize,s=e.sizes,o=(0,w.EK)(t),i=(0,w.cL)(t),c=(0,w.$Q)({sizes:Object.values(s)});return!n&&c?k({map:h.Q1,licenseName:r}):n||r===v.f1||o||i?!a||o||i?(0,O.mF)(s):h.kR[a]:k({map:h.kR,licenseName:r})},N=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n,a,s,i,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.asset,n=t.licenseName,a=t.isVideoComp,s=t.selectedAssetSize,e.next=3,S({asset:r});case 3:return i=e.sent,c=x({asset:r,licenseName:n,isVideoComp:a,selectedAssetSize:s,sizes:i}),u=(0,w.EK)(r),l=Object.values(i).find((function(e){var t=e.resolution;return h.wb[null===t||void 0===t?void 0:t.toLowerCase()]===c})),e.abrupt("return",{content_size:u?p.vD:c,content_format:null===l||void 0===l?void 0:l.format});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n,a,s,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.asset,n=t.licenseName,a=t.isVideoComp,s=t.selectedAssetSize,i=(0,j.qw)({asset:r}),(0,w.so)(r)&&(i=d.A7),e.t0=i,e.next=e.t0===d.pX||e.t0===d.A7?6:e.t0===d.j0?9:10;break;case 6:return e.next=8,N({asset:r,licenseName:n,isVideoComp:a,selectedAssetSize:s});case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",{content_size:p.Ng,content_format:d.j0});case 10:return e.abrupt("return",z({selectedAssetSize:s,asset:r}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,a.Z)(o().mark((function e(t){var r,n,a,s,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.licenseName,n=t.selectedAssetSize,a=t.asset,s=t.isVideoComp,i=(0,j.qw)({asset:a}),c=a.id.toString(),e.t0=P,e.t1={content_id:c,content_type:(0,j.JD)({assetType:i,assetId:c})},e.next=7,C({asset:a,licenseName:r,isVideoComp:s,selectedAssetSize:n});case 7:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},92466:function(e,t,r){r.d(t,{A_:function(){return h},QH:function(){return P},VM:function(){return S},mJ:function(){return g},oe:function(){return z},uG:function(){return j}});var n=r(59499),a=r(90116),s=r(50029),o=r(87794),i=r.n(o),c=r(45303),u=r(357),l=r(95944),p=r(43257),d=r(840),f=r(14892),m=r(25021),v=r(92628),b=r(8924),y=r(98329);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.name,n=t.target,a=void 0===n?"_self":n,s=document.createElement("a");s.setAttribute("data-automation","FeatureDownload_utils_link"),s.style.display="none",s.href=e,s.target=a,s.download=r||e,document.body.appendChild(s),s.click(),(0,y.bK)()||document.body.removeChild(s)},j=function(){var e=(0,s.Z)(i().mark((function e(t){var r,n,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.downloadBundlePayload,n=(0,c.e)({urlParams:{filename:r.bundleFilename}}).formattedUrl,e.next=4,b.jl.post(n,r.content);case 4:return a=e.sent,s=a.data.public_url,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.licensedContent,r=e.supplementalUrlType,n=t[0],a=n.downloadUrl,s=n.supplementalUrls;if(null!==s&&void 0!==s&&s.length&&r){var o=(s.find((function(e){return e.type===r}))||{}).url;return void 0===o?a:o}return a},P=function(){var e=(0,s.Z)(i().mark((function e(t){var r,n,a,s,o,c,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.downloadPayload,n=t.supplementalUrlType,a=t.licenseeIdentifier,s=(0,u.f$)({urlParams:{licenseeIdentifier:a}}).formattedUrl,e.next=4,b.uS.post(s,r);case 4:return o=e.sent,c=o.data.meta.licensedContent,l=g({licensedContent:c,supplementalUrlType:n}),e.abrupt("return",{downloadUrl:l,licensedContent:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.contentType,r=e.licenseName,n=e.subscriptions;switch(t){case l.pX:var s=(0,v.eL)({subscriptions:[].concat((0,a.Z)(null===n||void 0===n?void 0:n.videoSubscriptions),(0,a.Z)(null===n||void 0===n?void 0:n.videoCompSubscriptions)),licenseName:r});return(null===s||void 0===s?void 0:s.redeemableFor)||r;case l.j0:return r||p.zU;case l.pV:default:return r}},S=function(){var e=(0,s.Z)(i().mark((function e(t){var r,n,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.assets,n=t.subscriptions,a=r.map(function(){var e=(0,s.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,f.SS)({asset:t}),e.t0=w,e.t1=w,e.t2={},e.next=6,(0,d.Oo)({asset:t,licenseName:t.licenseId});case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={license_name:_({contentType:r,licenseName:t.licenseId,subscriptions:n}),show_modal:!0},e.abrupt("return",(0,e.t0)(e.t4,e.t5,e.t6));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(a);case 4:return o=e.sent,e.abrupt("return",{required_cookies:"",content:o});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,m.Tp)(e),isRex:e.isRexEditorial}))}}}]);
//# sourceMappingURL=92466-af72e9f33d474100.js.map